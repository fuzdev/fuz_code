var Ot=Object.defineProperty;var Ct=(t,e,n)=>e in t?Ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>Ct(t,typeof e!="symbol"?e+"":e,n);import"../chunks/Bzak7iHL.js";import{p as tt,f as O,G as l,au as $,d as y,r as p,b as T,c as et,al as S,aa as k,a as J,ab as Lt,s as b,t as Z,o as G,ac as vt,q as Dt,aE as Ut,bu as $t,ak as zt}from"../chunks/CKlgu62-.js";import{s as U,c as jt,f as Bt}from"../chunks/DEvzNGkC.js";import{p as V,r as Ht,i as z,s as qt}from"../chunks/CmIF9SKV.js";import{a as Vt,C as Xt,b as ft,e as Gt,r as ot,c as Zt,f as Jt,s as Kt}from"../chunks/B5tB6d6K.js";import{t as wt,s as Wt,a as Qt,b as rt}from"../chunks/DYWQ87Kd.js";import{b as Nt}from"../chunks/CESbBP02.js";import{C as Yt,s as kt}from"../chunks/3JS27IyS.js";import{e as Y}from"../chunks/BBFufHhL.js";import{k as te}from"../chunks/CqUb82z9.js";import{c as ee}from"../chunks/hyXhWbj1.js";import{C as ne}from"../chunks/xLj1pGbR.js";var se=O("<div>✓</div>"),oe=O("<div>⧉</div>"),re=O("<button><!></button>");function ae(t,e){tt(e,!0);const n=V(e,"copied_display_duration",3,1e3),s=V(e,"icon_button",3,!0),a=Ht(e,["$$slots","$$events","$$legacy","text","copied_display_duration","allow_copying_empty_string","icon_button","oncopy","disabled","children"]);let o=$(!1),r=$(!1),h;const c=async d=>{var _;if(clearTimeout(h),e.text!==null){S(o,!1),S(r,!1);try{await navigator.clipboard.writeText(e.text),S(o,!0)}catch{S(r,!0);return}h=setTimeout(()=>{S(o,!1)},n()),(_=e.oncopy)==null||_.call(e,e.text,d)}};var i=re();Vt(i,()=>({type:"button",title:"copy to clipboard",...a,class:`copy_to_clipboard ${e.class??""}`,onclick:c,disabled:e.disabled??(e.allow_copying_empty_string?e.text===null:!e.text),[Xt]:{icon_button:e.children?!1:s(),copied:l(o),failed:l(r),color_c:l(r)}}));var N=y(i);{var v=d=>{var _=k(),f=J(_);Lt(f,()=>e.children,()=>l(o),()=>l(r)),T(d,_)},m=d=>{var _=k(),f=J(_);{var g=w=>{var E=se();wt(1,E,()=>Wt,()=>({duration:200})),T(w,E)},u=w=>{var E=oe();wt(1,E,()=>Qt),T(w,E)};z(f,w=>{l(o)?w(g):w(u,!1)},!0)}T(d,_)};z(N,d=>{e.children?d(v):d(m,!1)})}p(i),T(t,i),et()}const ie=1e3,nt=1e6,xt=1e9,_e=t=>t/ie,ce=t=>t/nt,le=t=>t/xt,at=(t,e,n=2)=>{if(!isFinite(t))return String(t);switch(e){case"ns":return`${t.toFixed(n)}ns`;case"us":return`${_e(t).toFixed(n)}μs`;case"ms":return`${ce(t).toFixed(n)}ms`;case"s":return`${le(t).toFixed(n)}s`}},me=(t,e=2)=>isFinite(t)?t<1e3?at(t,"ns",e):t<1e6?at(t,"us",e):t<1e9?at(t,"ms",e):at(t,"s",e):String(t),ue=1.5,de=3.5,pe=5,he=.6745,ge=.3,ve=.4,fe=.8,we=1.96,bt=3,dt=t=>t.length===0?NaN:t.reduce((e,n)=>e+n,0)/t.length,ut=t=>{if(t.length===0)return NaN;const e=[...t].sort((s,a)=>s-a),n=Math.floor(e.length/2);return e.length%2===0?(e[n-1]+e[n])/2:e[n]},Mt=(t,e)=>{if(t.length===0)return NaN;const n=e??dt(t),s=t.reduce((a,o)=>a+(o-n)**2,0)/t.length;return Math.sqrt(s)},it=(t,e)=>{if(t.length===0)return NaN;if(t.length===1)return t[0];const n=[...t].sort((c,i)=>c-i),a=(n.length-1)*e,o=Math.floor(a),r=Math.ceil(a);if(o===r)return n[o];const h=a-o;return n[o]+h*(n[r]-n[o])},ye=(t,e)=>t===0?NaN:e/t,Ne=t=>{if(t.length===0)return{min:NaN,max:NaN};let e=t[0],n=t[0];for(let s=1;s<t.length;s++){const a=t[s];a<e&&(e=a),a>n&&(n=a)}return{min:e,max:n}},xe=(t,e)=>{const n=ue,s=bt;if(t.length<s)return{cleaned:t,outliers:[]};const a=[...t].sort((m,d)=>m-d),o=a[Math.floor(a.length*.25)],r=a[Math.floor(a.length*.75)],h=r-o;if(h===0)return{cleaned:t,outliers:[]};const c=o-n*h,i=r+n*h,N=[],v=[];for(const m of t)m<c||m>i?v.push(m):N.push(m);return{cleaned:N,outliers:v}},be=(t,e)=>{const n=de,s=pe,a=he,o=ge,r=ve,h=fe,c=bt;if(t.length<c)return{cleaned:t,outliers:[]};const i=[...t].sort((g,u)=>g-u),N=ut(i),m=[...t.map(g=>Math.abs(g-N))].sort((g,u)=>g-u),d=ut(m);if(d===0)return xe(t);let _=[],f=[];for(const g of t){const u=a*(g-N)/d;Math.abs(u)>n?f.push(g):_.push(g)}if(f.length>t.length*o){_=[],f=[];for(const g of t){const u=a*(g-N)/d;Math.abs(u)>s?f.push(g):_.push(g)}if(f.length>t.length*r){const g=t.map(w=>({value:w,distance:Math.abs(w-N)}));g.sort((w,E)=>w.distance-E.distance);const u=Math.floor(t.length*h);_=g.slice(0,u).map(w=>w.value),f=g.slice(u).map(w=>w.value)}}return{cleaned:_,outliers:f}},Me=(t,e)=>{if(t.length===0)return[NaN,NaN];const n=dt(t),s=Mt(t,n);return Ee(n,s,t.length)},Ee=(t,e,n,s)=>{const a=we;if(n===0)return[NaN,NaN];const o=e/Math.sqrt(n),r=a*o;return[t-r,t+r]};class Se{constructor(e){P(this,"mean_ns");P(this,"p50_ns");P(this,"std_dev_ns");P(this,"min_ns");P(this,"max_ns");P(this,"p75_ns");P(this,"p90_ns");P(this,"p95_ns");P(this,"p99_ns");P(this,"cv");P(this,"confidence_interval_ns");P(this,"outliers_ns");P(this,"outlier_ratio");P(this,"sample_size");P(this,"raw_sample_size");P(this,"ops_per_second");P(this,"failed_iterations");const n=[];let s=0;for(const i of e)!isNaN(i)&&isFinite(i)&&i>0?n.push(i):s++;if(this.failed_iterations=s,this.raw_sample_size=e.length,n.length===0){this.mean_ns=NaN,this.p50_ns=NaN,this.std_dev_ns=NaN,this.min_ns=NaN,this.max_ns=NaN,this.p75_ns=NaN,this.p90_ns=NaN,this.p95_ns=NaN,this.p99_ns=NaN,this.cv=NaN,this.confidence_interval_ns=[NaN,NaN],this.outliers_ns=[],this.outlier_ratio=0,this.sample_size=0,this.ops_per_second=0;return}const{cleaned:a,outliers:o}=be(n),r=[...a].sort((i,N)=>i-N);this.outliers_ns=o,this.outlier_ratio=o.length/n.length,this.sample_size=a.length,this.mean_ns=dt(a),this.p50_ns=ut(r),this.std_dev_ns=Mt(a,this.mean_ns);const{min:h,max:c}=Ne(r);this.min_ns=h,this.max_ns=c,this.p75_ns=it(r,.75),this.p90_ns=it(r,.9),this.p95_ns=it(r,.95),this.p99_ns=it(r,.99),this.cv=ye(this.mean_ns,this.std_dev_ns),this.confidence_interval_ns=Me(a),this.ops_per_second=this.mean_ns>0?xt/this.mean_ns:0}toString(){return`BenchmarkStats(mean=${me(this.mean_ns)}, ops/sec=${this.ops_per_second.toFixed(2)}, cv=${(this.cv*100).toFixed(1)}%, samples=${this.sample_size})`}}const Te=t=>{const e=t.times_ms.map(o=>o*nt),n=new Se(e),s=t.stability_checks.filter(o=>!o.is_stable).length,a=t.stability_checks.length>0?1-s/t.stability_checks.length:1;return{core:n,stability_ratio:a,unstable_iterations:s}},Re=t=>{var a;const e={};for(const o of t)e[o.implementation]||(e[o.implementation]=[]),e[o.implementation].push(o);const n={};for(const[o,r]of Object.entries(e)){const h=r.map(v=>v.stats.core.mean_ns/nt),c=h.reduce((v,m)=>v+m,0)/h.length,i=r.map(v=>v.stats.core.ops_per_second).reduce((v,m)=>v+m,0)/r.length,N=r.map(v=>v.stats.core.cv).reduce((v,m)=>v+m,0)/r.length;n[o]={avg_mean:c,avg_ops:i,avg_cv:N,languages:r.length}}const s=(a=n.html)==null?void 0:a.avg_mean;if(s!==void 0)for(const o of Object.keys(n)){const r=n[o];r.relative_speed=s/r.avg_mean,r.improvement=(r.relative_speed-1)*100}return n},Ie=(t,e=.15)=>{const n=[];for(const s of t)s.stats.core.cv>e&&n.push(`High variance for ${s.implementation}/${s.language}: CV=${(s.stats.core.cv*100).toFixed(1)}%`);return n},L=(t,e=2)=>isFinite(t)?t.toFixed(e):String(t),X=t=>t/nt,_t=[{header:"Language",get_value:t=>t.language},{header:"Implementation",get_value:t=>t.implementation},{header:"Mean (ms)",get_value:t=>L(X(t.stats.core.mean_ns))},{header:"Median (ms)",get_value:t=>L(X(t.stats.core.p50_ns))},{header:"Std Dev",get_value:t=>L(X(t.stats.core.std_dev_ns))},{header:"CV",get_value:t=>`${L(t.stats.core.cv*100,1)}%`,get_class:t=>t.stats.core.cv>.15?"warning":""},{header:"P75 (ms)",get_value:t=>L(X(t.stats.core.p75_ns))},{header:"P90 (ms)",get_value:t=>L(X(t.stats.core.p90_ns))},{header:"P95 (ms)",get_value:t=>L(X(t.stats.core.p95_ns))},{header:"P99 (ms)",get_value:t=>L(X(t.stats.core.p99_ns))},{header:"Ops/sec",get_value:t=>L(t.stats.core.ops_per_second,0)},{header:"Outliers",get_value:t=>`${t.stats.core.outliers_ns.length}/${t.stats.core.raw_sample_size}`,get_class:t=>t.stats.core.outlier_ratio>.1?"warning":""},{header:"Failed",get_value:t=>t.stats.core.failed_iterations.toString(),get_class:t=>t.stats.core.failed_iterations>0?"warning":""},{header:"Stability",get_value:t=>`${L(t.stats.stability_ratio*100,0)}%`,get_class:t=>t.stats.stability_ratio>.9?"good":""}],Fe=t=>{if(t.length===0)return"";const e=_t.map(s=>s.header);let n="| "+e.join(" | ")+` |
`;n+="| "+e.map(()=>"---").join(" | ")+` |
`;for(const s of t){const a=_t.map(o=>o.get_value(s));n+="| "+a.join(" | ")+` |
`}return n};var Ae=O("<li> </li>"),Pe=O('<section class="panel p_md warning"><h3 class="mt_0">⚠️ Warnings</h3> <ul></ul></section>'),Oe=O("<div><strong> </strong> <span>vs baseline</span></div>"),Ce=O("<div><h3> </h3> <div><strong> </strong> <span>avg time</span></div> <div><strong> </strong> <span>ops/sec</span></div> <div><strong> </strong> <span>CV</span></div> <!></div>"),Le=O("<section><h2>Summary</h2> <div></div></section>"),De=O("<th> </th>"),Ue=O("<td> </td>"),$e=O("<tr></tr>"),ze=O(`<section><h2>Results</h2> <table><thead><tr></tr></thead><tbody></tbody></table> <div class="mt_md"><!></div> <div><h3>Legend</h3> <ul><li><strong>CV</strong>: Coefficient of Variation (std_dev/mean) - lower is better, &lt;15% is
					good</li> <li><strong>P75/P90/P95/P99</strong>: Percentiles - X% of measurements were faster than this</li> <li><strong>Ops/sec</strong>: Operations per second (throughput)</li> <li><strong>Stability</strong>: Percentage of iterations with stable system metrics</li></ul></div></section>`),je=O("<!> <!> <!>",1);function Be(t,e){tt(e,!0);const n=V(e,"results",19,()=>[]),s=V(e,"summary",3,null),a=V(e,"warnings",19,()=>[]);var o=je(),r=J(o);{var h=m=>{var d=Pe(),_=b(y(d),2);Y(_,20,a,f=>f,(f,g)=>{var u=Ae(),w=y(u,!0);p(u),Z(()=>U(w,g)),T(f,u)}),p(_),p(d),T(m,d)};z(r,m=>{a().length>0&&m(h)})}var c=b(r,2);{var i=m=>{var d=Le(),_=b(y(d),2);Y(_,20,()=>Object.entries(s()),f=>f,(f,g)=>{const u=vt(()=>{const[H,q]=g;return{impl:H,stats:q}});var w=Ce(),E=y(w),M=y(E,!0);p(E);var A=b(E,2),R=y(A),F=y(R);p(R),G(2),p(A);var C=b(A,2),I=y(C),B=y(I,!0);p(I),G(2),p(C);var j=b(C,2),K=y(j),st=y(K);p(K),G(2),p(j);var lt=b(j,2);{var mt=H=>{var q=Oe(),x=y(q);let D;var W=y(x);p(x),G(2),p(q),Z(Q=>{D=ft(x,1,"",null,D,{positive:l(u).stats.improvement>0,negative:l(u).stats.improvement<0}),U(W,`${l(u).stats.improvement>0?"+":""}${Q??""}%`)},[()=>L(l(u).stats.improvement,1)]),T(H,q)};z(lt,H=>{l(u).impl!=="html"&&l(u).stats.improvement!==void 0&&H(mt)})}p(w),Z((H,q,x)=>{U(M,l(u).impl),U(F,`${H??""}ms`),U(B,q),U(st,`${x??""}%`)},[()=>L(l(u).stats.avg_mean),()=>L(l(u).stats.avg_ops,0),()=>L(l(u).stats.avg_cv*100,1)]),T(f,w)}),p(_),p(d),T(m,d)};z(c,m=>{s()&&m(i)})}var N=b(c,2);{var v=m=>{var d=ze(),_=b(y(d),2),f=y(_),g=y(f);Y(g,20,()=>_t,M=>M,(M,A)=>{var R=De(),F=y(R,!0);p(R),Z(()=>U(F,A.header)),T(M,R)}),p(g),p(f);var u=b(f);Y(u,20,n,M=>M,(M,A)=>{var R=$e();Y(R,20,()=>_t,F=>F,(F,C)=>{var I=Ue(),B=y(I,!0);p(I),Z((j,K)=>{ft(I,1,j),U(B,K)},[()=>{var j;return Gt(((j=C.get_class)==null?void 0:j.call(C,A))||"")},()=>C.get_value(A)]),T(F,I)}),p(R),T(M,R)}),p(u),p(_);var w=b(_,2),E=y(w);{let M=vt(()=>Fe(n()));ae(E,{get text(){return l(M)},children:(A,R)=>{G();var F=Dt("copy results as markdown");T(A,F)},$$slots:{default:!0}})}p(w),G(2),p(d),T(m,d)};z(N,m=>{n().length>0&&m(v)})}T(t,o),et()}const ct=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}),Et=async t=>{const e=t+Math.random()*t;await new Promise(n=>setTimeout(n,e)),await ct(),await ct()};var He=O("<div><!></div>");function qe(t,e){tt(e,!0);const n=V(e,"BenchmarkedComponent",3,null),s=V(e,"props",3,null),a=V(e,"on_render_complete",3,()=>{});let o;jt(async()=>{const i=o.querySelector("code"),N=i.getBoundingClientRect(),v=i.offsetHeight;(N.width<=0||v<=0)&&console.error("Unexpected negative dimensions"),await ct(),a()()});var r=He(),h=y(r);{var c=i=>{var N=k(),v=J(N);ee(v,n,(m,d)=>{d(m,qt(s))}),T(i,N)};z(h,i=>{n()&&s()&&i(c)})}p(r),Nt(r,i=>o=i,()=>o),T(t,r),et()}function Ve(t,e){tt(e,!0);const n=1e4;let s=$(null),a=$(null),o=null,r=$(0);const h=()=>{o&&(o(),o=null)};let c;const i=async(f,g)=>{$t(r);const u=new Promise((E,M)=>{o=E,c=setTimeout(()=>{o&&(console.error("[Harness] Render timeout after",n,"ms"),o=null,c=void 0,M(new Error(`Render timeout after ${n}ms`)))},n)}),w=performance.now();try{S(s,f,!0),S(a,g,!0),await u,c&&(clearTimeout(c),c=void 0);const M=performance.now()-w;return await ct(),M}catch(E){throw console.error("[Harness] Render failed:",E),E}finally{await N()}},N=async()=>{S(s,null),S(a,null),o=null,c&&(clearTimeout(c),c=void 0),await Ut()};var v={run_iteration:i,cleanup:N},m=k(),d=J(m);{var _=f=>{var g=k(),u=J(g);te(u,()=>l(r),w=>{qe(w,{get BenchmarkedComponent(){return l(s)},get props(){return l(a)},on_render_complete:h})}),T(f,g)};z(d,f=>{l(s)&&l(a)&&f(_)})}return T(t,m),et(v)}const Xe=5,St=5,Tt=.9,Rt=2,yt={high_lag:200,memory_pressure:500,high_jitter:300,unknown:300},Ge=t=>{if(t.length<Xe)return 0;const e=t.slice(-10),n=e.reduce((o,r)=>o+r,0)/e.length,s=e.reduce((o,r)=>o+(r-n)**2,0)/e.length;return Math.sqrt(s)/n},Ze=async t=>{const e=performance.now();await new Promise(r=>setTimeout(r,0));const n=performance.now()-e;let s=0;typeof performance<"u"&&performance.memory&&(s=performance.memory.usedJSHeapSize/performance.memory.jsHeapSizeLimit);const a=Ge(t);return{is_stable:n<St&&s<Tt&&a<Rt,lag:n,memory_pressure:s,jitter:a}},Je=t=>t.lag>St?"high_lag":t.jitter>Rt?"high_jitter":t.memory_pressure&&t.memory_pressure>Tt?"memory_pressure":"unknown",Ke=async t=>{console.log(`System instability: ${t}, waiting...`),await new Promise(e=>setTimeout(e,yt[t]||yt.unknown))},We=(t,e)=>Object.values(t).find(n=>n.lang===e&&n.name.includes("complex")),Qe=(t,e,n)=>{const s=new Map;for(const a of e){const o=We(t,a);if(!o)continue;const r=o.content.repeat(n);s.set(a,r);const h=(new TextEncoder().encode(r).length/1024).toFixed(1);console.log(`[Fixtures] Pre-generated ${a}: ${h}KB (${n}x)`)}return s},It=[{name:"html",component:ne,mode:null},{name:"ranges",component:Yt,mode:"ranges"}],Ft=["ts","css","html","json","svelte","md"],Ye=.01,ke=6e4,tn=.1,en=.2,nn=async(t,e,n,s,a,o)=>{for(let r=0;r<s;r++){const h={content:e,lang:n};t.mode!==null&&(h.mode=t.mode),await o.run_iteration(t.component,h),await Et(a)}},sn=async(t,e,n,s,a,o,r,h)=>{const c=[],i=[],N=[];for(let v=0;v<s.iterations;v++){if(h!=null&&h()){console.log("[Measurement] Stopped by user");break}console.log(`[Measurement] Iteration ${v+1}/${s.iterations}`),await Et(s.cooldown_ms);const m=await Ze(a);if(i.push(m),!m.is_stable){const _=Je(m);console.log(`[Measurement] System unstable: ${_}, extended cooldown...`),await Ke(_)}const d={content:e,lang:n};t.mode!==null&&(d.mode=t.mode),console.log(`[Measurement] Running iteration ${v+1}...`);try{const _=await o.run_iteration(t.component,d);_<=0?(console.warn(`[Measurement] Suspicious timing (${_}ms) - marking as failed`),c.push(NaN),N.push(Date.now())):_<Ye?(console.warn(`[Measurement] Suspiciously fast timing (${_}ms) - possible no-op render`),c.push(_),N.push(Date.now()),a.push(_)):_>ke?(console.warn(`[Measurement] Extremely slow timing (${_}ms) - possible hang`),c.push(NaN),N.push(Date.now())):(console.log(`[Measurement] Iteration ${v+1} complete: ${_.toFixed(2)}ms`),c.push(_),N.push(Date.now()),a.push(_))}catch(_){console.error(`[Measurement] Iteration ${v+1} failed:`,_),c.push(NaN),N.push(Date.now())}r&&r(),globalThis.gc&&globalThis.gc()}return{times_ms:c,stability_checks:i,timestamps:N}},on=async(t,e,n,s,a,o)=>{var u,w,E;const r=It,h=Ft,c=[],i=[],N=[],m=r.length*h.length*e.iterations;let d=0;console.log(`[Runner] Pre-generating large content (${e.content_multiplier}x)...`);const _=Qe(t,h,e.content_multiplier);console.log("[Runner] Pre-generation complete");for(const M of h){if((u=s==null?void 0:s.should_stop)!=null&&u.call(s)){console.log("[Runner] Benchmark stopped by user");break}const A=_.get(M);if(!A){i.push(`No complex sample found for ${M}`);continue}for(const R of r){if((w=s==null?void 0:s.should_stop)!=null&&w.call(s)){console.log("[Runner] Benchmark stopped by user");break}const F=`${R.name} / ${M}`;console.log(`
[Runner] Starting test: ${F}`),s!=null&&s.on_test_start&&s.on_test_start(F);try{await nn(R,A,M,e.warmup_count,e.cooldown_ms,n);const C=await sn(R,A,M,e,N,n,()=>{d++,s!=null&&s.on_progress&&s.on_progress(d,m)},s==null?void 0:s.should_stop),I=Te(C),B=I.core.mean_ns/nt;console.log(`[Runner] ${F} complete - mean: ${B.toFixed(2)}ms, ops/sec: ${I.core.ops_per_second.toFixed(2)}`),I.core.failed_iterations>0&&i.push(`${F}: ${I.core.failed_iterations} failed iterations`),B<tn&&i.push(`${F}: Suspiciously fast mean time (${B.toFixed(3)}ms)`),I.core.outlier_ratio>en&&i.push(`${F}: High outlier ratio (${(I.core.outlier_ratio*100).toFixed(1)}%)`),c.push({implementation:R.name,language:M,stats:I}),s!=null&&s.on_test_complete&&s.on_test_complete()}catch(C){console.error(`Error testing ${R.name}/${M}:`,C),i.push(`Failed: ${R.name}/${M}`)}}}const f=Re(c),g=Ie(c);return i.push(...g),(E=s==null?void 0:s.should_stop)!=null&&E.call(s)&&i.push("Benchmark was stopped by user"),await n.cleanup(),{results:c,warnings:i,summary:f}};var rn=O('<button type="button" class="mt_lg">stop benchmark</button>'),an=O('<section class="panel"><h3>Progress</h3> <div class="progress-info"><div>Testing: <strong> </strong></div> <div> </div></div> <progress></progress></section>'),_n=O('<div class="box width_atmost_lg mx_auto"><h1 class="mt_xl5">benchmark</h1> <p><code class="font-weight:400 font_size_sm">chromium --js-flags="--expose-gc"</code></p> <section class="panel p_lg"><form><fieldset><legend>config</legend> <label><div class="title">iterations</div> <input type="number" min="1"/></label> <label><div class="title">content multiplier</div> <input type="number" min="1"/></label> <label><div class="title">warmup runs</div> <input type="number" min="0"/></label> <label><div class="title">cooldown (ms)</div> <input type="number" min="0"/></label></fieldset> <button type="button"> </button> <!></form></section> <!> <!> <hr/></div> <!>',1);function xn(t,e){tt(e,!0);const n=zt({iterations:5,warmup_count:2,cooldown_ms:50,content_multiplier:10});let s=$(!1),a=$(""),o=$(0),r=$(0),h=$(!1),c=$(null),i;const N=async()=>{if(!i)throw Error();if(!l(s)){S(s,!0),S(h,!1),S(a,""),S(o,0),S(c,{results:[],warnings:[],summary:null}),S(r,It.length*Ft.length*n.iterations);try{S(c,await on(kt,n,i,{on_progress:(x,D)=>{S(o,x,!0),S(r,D,!0)},on_test_start:x=>{S(a,x,!0)},should_stop:()=>l(h)})),S(a,l(h)?"Stopped":"Complete",!0)}catch(x){console.error("Benchmark failed:",x),l(c).warnings.push(`Fatal error: ${x}`)}finally{S(s,!1)}}},v=()=>{S(h,!0),S(a,"Stopping...")};var m=_n(),d=J(m),_=b(y(d),4),f=y(_),g=y(f),u=b(y(g),2),w=b(y(u),2);ot(w),p(u);var E=b(u,2),M=b(y(E),2);ot(M),p(E);var A=b(E,2),R=b(y(A),2);ot(R),p(A);var F=b(A,2),C=b(y(F),2);ot(C),p(F),p(g);var I=b(g,2);I.__click=N;var B=y(I,!0);p(I);var j=b(I,2);{var K=x=>{var D=rn();D.__click=v,Zt(D,"",{},{"margin-left":"1rem"}),T(x,D)};z(j,x=>{l(s)&&x(K)})}p(f),p(_);var st=b(_,2);{var lt=x=>{var D=an(),W=b(y(D),2),Q=y(W),pt=b(y(Q)),At=y(pt,!0);p(pt),p(Q);var ht=b(Q,2),Pt=y(ht);p(ht),p(W);var gt=b(W,2);p(D),Z(()=>{U(At,l(a)),U(Pt,`Progress: ${l(o)??""} / ${l(r)??""}`),Jt(gt,l(o)),Kt(gt,"max",l(r))}),T(x,D)};z(st,x=>{l(s)&&x(lt)})}var mt=b(st,2);{var H=x=>{Be(x,{get results(){return l(c).results},get summary(){return l(c).summary},get warnings(){return l(c).warnings}})};z(mt,x=>{l(c)&&x(H)})}G(2),p(d);var q=b(d,2);Nt(Ve(q,{}),x=>i=x,()=>i),Z(()=>{w.disabled=l(s),M.disabled=l(s),R.disabled=l(s),C.disabled=l(s),I.disabled=l(s),U(B,l(s)?"running...":"run benchmarks")}),rt(w,()=>n.iterations,x=>n.iterations=x),rt(M,()=>n.content_multiplier,x=>n.content_multiplier=x),rt(R,()=>n.warmup_count,x=>n.warmup_count=x),rt(C,()=>n.cooldown_ms,x=>n.cooldown_ms=x),T(t,m),et()}Bt(["click"]);export{xn as component};
